# HTTP API

http api를 직접 설계해보자.

가장 중요한 것은 **리소스 식별**!



### 요구사항

- 회원목록조회
- 회원조회
- 회원등록
- 회원수정
- 회원삭제



### API URI 고민

- 리소스의 의미는 뭘까?
  - 회원을 등록/수정/조회....
  - 리소스는 '회원'
- 리소스를 어떻게 식별하는게 좋을까?
  - 등록/수정/조회... 배제!
  - 회원이라는 리소스만 식별하면 된다.



### API URI 설계

- 회원목록조회 -> /members
- 회원조회 -> /members/{id}
- 회원등록 -> /members/{id}
- 회원수정 -> /members/{id}
- 회원삭제 -> /members/{id}

> 참고: 계층 구조상 상위를 컬렉션으로 보고 복수단어 사용 권장(member -> members)



### 리소스와 행위를 분리

#### 가장 중요한 것은 리소스를 식별하는 것!

- uri는 리소스만 식별
- 리소스와 해당 리소스를 대상으로 하는 행위를 분뤼
- 리소스 : 회원
- 행위 : 등록/조회/수정/삭제..
- 그렇다면 행위는 어떻게 구분할까? => **HTTP 메서드**





## HTTP 메서드

주요 메서드

- GET: 리소스 조회
- POST: 요청 데이터 처리. 주로 등록.
- PUT: 리소스 대체. 해당 리소스가 없으면 생성.
- PATCH: 리소스 부분 변경
- DELETE: 리소스 삭제





### GET

- 리소스 조회
- 서버에 전달하고 싶은 데이터는 query(쿼리 파라미터, 쿼리 스트링)를 통해서 전달
- 메세지 바디를 사용해서 데이터를 전달할 수 있긴 하다.. 하지만 지원하지 않는 곳이 많아서 권장하지 않음.



### POST

- 요청 데이터 처리
- 메세지 바디를 통해 서버로 요청 데이터 전달
- 서버는 요청 데이터를 처리
  - 메세지 바디를 통해 들어온 데이터를 처리하는 모든 기능을 수행한다.

- 주로 전달된 데이터로 신규 리소스를 등록, 프로세스 처리에 사용



### POST가 가지는 의미

1. 새 리소스를 생성
2. 요청 데이터 처리
   - 단순히 생성,변경 하는것이 아닌 프로레스를 처리해야 하는 경우
   - ex) orders/{}/start-delivery
3. 다른 메서드로 처리하기 애매한 경우
   - JSON으로 조회 데이터를 넘겨야 하는데, GET 메서드를 사용하기 어려운 경우
   - 뭔가... 애매한 경우



